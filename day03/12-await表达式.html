<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>await表达式</title>
</head>
<body>
  <script>
/* await表达式：
  1、await右侧的表达式一般为promise对象，但也可以是其他的值
  2、如果表达式是promise对象，await返回的是promise成功的值
  3、如果表达式是其他值，直接将此值作为await的返回值
  
  
  注意：
  1、await必须写在async函数中，但async函数中可以没有await
  2、如果await的promise失败了，就会抛出异常，需要通过try..catch捕获处理


*/
async function main() {
    let p = new Promise((resolve, reject) => {
      // resolve('ok');
      reject('error')
    });

    // 1、右侧为promise的情况
    // let res = await p ;
    // console.log(res);  // ok

    // 2、右侧为其他类型的数据
    // let res2 = await '12';
    // console.log(res2);

    // 3、如果promise是失败的状态，通过try...catch进行捕获
    try {
      let res3 = await p;      
    } catch (e) {
      console.log(e);
    }

    
}

main();

  </script>
</body>
</html>